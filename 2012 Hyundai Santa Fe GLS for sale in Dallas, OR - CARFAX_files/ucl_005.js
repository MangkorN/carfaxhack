"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[852],{"./client/components/Common/FormValidationHOC/FormValidationHOC.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/typeof.js")),r=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),s=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),o=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),c=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),u=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),p=a("./node_modules/react/index.js"),m=l(a("./client/components/Common/FormValidationHOC/validationRules.ts")),f=a("./node_modules/react/jsx-runtime.js");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}t.default=function(e){var t;return t=function(t){(0,o.default)(v,t);var a,l,p=(a=v,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(a);if(l){var n=(0,d.default)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,c.default)(this,e)});function v(e){var t;return(0,r.default)(this,v),t=p.call(this,e),(0,u.default)((0,s.default)(t),"handleIsValid",(function(){return Object.keys(t.state.errors).length?(t.setState({isValid:!1,displayErrors:"show"}),!1):(t.setState({isValid:!0}),!0)})),(0,u.default)((0,s.default)(t),"handleValidateForm",(function(e,a){var l=e;t.setState({isFormSubmit:!0,isValid:!1}),Object.keys(l).forEach((function(e){var n=e,r=l[e];t.handleValidator(n,r,a)})),t.setState({isFormSubmit:!1})})),(0,u.default)((0,s.default)(t),"handleErrorClass",(function(e){var a=t.state.errors,l="";return Object.keys(a).length&&Object.keys(a).forEach((function(t){t===e&&(l="is-invalid-input")})),l})),(0,u.default)((0,s.default)(t),"handleValidator",(function(e,a,l){var r=!1,i=t.state.errors,s=m.default;l&&(s=Object.assign({},s,l)),Object.keys(s).forEach((function(t){var l=s[t];t===e&&(Object.prototype.hasOwnProperty.call(i,e)&&delete i[e],l.forEach((function(t){r=t.rule(a),"object"===(0,n.default)(r)&&r.hint?i[e]=r.hint:r&&!i[e]&&(i[e]=t.hint)})))})),t.setState({errors:i},(function(){t.handleIsValid()}))})),(0,u.default)((0,s.default)(t),"renderValidationHints",(function(e){var a,l=e||t.state.errors;if(Object.keys(l).length){var n=Object.keys(l).map((function(e,t){return a===l[e]?null:(a=l[e],(0,f.jsx)("li",{children:l[e]},t))}));return(0,f.jsx)("ul",{children:n})}return null})),t.state={errors:{},displayErrors:"hide",isValid:!1},t}return(0,i.default)(v,[{key:"render",value:function(){return(0,f.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({isValid:this.handleIsValid,validateForm:this.handleValidateForm,errorClass:this.handleErrorClass,validateElements:this.handleValidator,validateState:this.state,renderValidationHints:this.renderValidationHints},this.props))}}]),v}(p.Component),(0,u.default)(t,"displayName","FormValidationHOC"),t}},"./client/components/Common/FormValidationHOC/validationRules.ts":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./client/utils/utilities.ts")),r=l(a("./node_modules/validator/lib/blacklist.js")),i=l(a("./node_modules/validator/lib/isAlphanumeric.js")),s=l(a("./node_modules/validator/lib/isEmail.js")),o=l(a("./node_modules/validator/lib/isEmpty.js")),c=l(a("./node_modules/validator/lib/isLength.js")),d={firstName:[{rule:function(e){return(0,o.default)(e)},hint:"First name is required!"},{rule:function(e){return!(0,i.default)((0,r.default)(e," "))},hint:"First name field is invalid!"}],lastName:[{rule:function(e){return(0,o.default)(e)},hint:"Last name is required!"},{rule:function(e){return!(0,i.default)((0,r.default)(e," "))},hint:"Last name field is invalid!"}],email:[{rule:function(e){return(0,o.default)(e)},hint:"Email is required!"},{rule:function(e){return e&&!(0,s.default)(e)},hint:"Email is invalid!"}],zip:[{rule:function(e){return void 0===e||(0,o.default)(e)},hint:"Zip is required!"},{rule:function(e){return!n.default.validateZip(e)},hint:"Zip is invalid!"}],phone:[{rule:function(e){return e&&!n.default.validatePhone(e)},hint:"Phone is invalid!"}],screenName:[{rule:function(e){return(0,o.default)(e)},hint:"First name is required!"},{rule:function(e){return!(0,i.default)((0,r.default)(e," "))},hint:"First name is invalid!"}],globalRating:[{rule:function(e){return(0,o.default)(e)},hint:"Rating is required!"}],globalTitle:[{rule:function(e){return(0,o.default)(e)},hint:"Title is required!"},{rule:function(e){return!(0,i.default)((0,r.default)(e," "))},hint:"Title is invalid!"}],globalReview:[{rule:function(e){return(0,o.default)(e)},hint:"Review is required!"},{rule:function(e){return!(0,c.default)(e,25)},hint:"Review is too short!"}],make:[{rule:function(e){return(0,o.default)(e)},hint:"Make is required!"}],model:[{rule:function(e){return(0,o.default)(e)},hint:"Model is required!"}],year:[{rule:function(e){return(0,o.default)(e.toString())},hint:"Year is required!"}]};t.default=d},"./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./client/stores/stores.ts")),r=l(a("./client/utils/utilities.ts")),i=a("./node_modules/mobx-react/dist/mobxreact.esm.js");l(a("./node_modules/react/index.js")),a("./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.scss");var s=a("./node_modules/react/jsx-runtime.js"),o=(0,i.observer)((function(){var e,t=null===(e=n.default.SearchRequest)||void 0===e?void 0:e.selectedVehicle;return(0,s.jsx)("div",{className:"vehicle-card",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"small-4 column",children:(0,s.jsx)("img",{src:r.default.checkProperty(t,"images.firstPhoto.small")?null==t?void 0:t.images.firstPhoto.small:"https://static.carfax.com/uclassets/images/srp-noimage.png",alt:""})}),(0,s.jsx)("div",{className:"small-8 column relative",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("span",{className:"cd-listing-title column small-12",children:null==t?void 0:t.title}),(0,s.jsxs)("span",{className:"cd-listing-mileage column small-12",children:[null!=t&&t.mileage?t.mileage.label:0," miles"]}),(0,s.jsx)("span",{className:"cd-listing-price column small-12",children:null!=t&&t.price?null==t?void 0:t.price.current_price.label:0})]})})]})})}));t.default=o},"./client/components/VehicleDetails/DealerContact/DealerContact.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=a("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("./node_modules/@babel/runtime/regenerator/index.js")),i=l(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),c=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),d=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),u=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),p=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),m=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),f=l(a("./client/analytics/BeaconHelperApi.ts")),h=a("./client/analytics/TrackingHelperApi.ts"),v=a("./client/utils/utils.ts"),b=l(a("./shared/helpers/CookieManager.ts")),g=l(a("./node_modules/universal-cookie/es6/index.js")),C=l(a("./shared/services/CagClient.ts")),j=l(a("./shared/services/ConversionServices.ts")),y=l(a("./shared/services/UserServices.ts")),x=l(a("./client/stores/stores.ts")),D=l(a("./client/utils/AppUtils.ts")),_=l(a("./client/utils/Auth.ts")),k=l(a("./config.js")),N=a("./client/utils/constants.ts"),S=a("./client/utils/transforms.ts"),w=l(a("./client/utils/utilities.ts")),P=l(a("./node_modules/crypto-js/index.js")),O=a("./node_modules/mobx-react/dist/mobxreact.esm.js"),V=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(l,i,s):l[i]=e[i]}return l.default=e,a&&a.set(e,l),l}(a("./node_modules/react/index.js"));a("./client/components/VehicleDetails/DealerContact/DealerContact.scss");var L=l(a("./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.tsx")),F=l(a("./client/components/VehicleDetails/DealerContact/DealerContactHeader.tsx")),R=l(a("./client/components/VehicleDetails/DealerContact/DealerContactHocEntry.tsx")),M=l(a("./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.tsx")),T=a("./node_modules/react/jsx-runtime.js");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,m.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){(0,d.default)(n,e);var t,a,l=(t=n,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,p.default)(t);if(a){var n=(0,p.default)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,u.default)(this,e)});function n(e){var t;return(0,s.default)(this,n),t=l.call(this,e),(0,m.default)((0,c.default)(t),"containerRef",void 0),(0,m.default)((0,c.default)(t),"fireOmnitureLeadLimit",(function(){var e,a,l=t.props.checkCTA?null===(e=x.default.Modals)||void 0===e?void 0:e.srpListing:null===(a=x.default.SearchRequest)||void 0===a?void 0:a.selectedVehicle,n=(0,h.buildProps)({pageName:{value:"Find Car - Details - Contact Seller Unsuccessful"},prop2:{value:"Find Car Details Contact Seller Unsuccessful"},prop3:{value:"Find Car Lead Thank You"},prop4:{value:"Find a Car"},events:{event:"event5,event187"}},["pageName","prop49","prop50","prop51","prop58"],l);(0,h.trackPage)(n)})),(0,m.default)((0,c.default)(t),"formSubmit",function(){var e=(0,i.default)(r.default.mark((function e(a){var l,n,i,s,o,c,d,u,p,m,f,v,b,g,j,D,k,w,P,O,V,L;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m=!1,f=!1,v=t.props.checkCTA?null===(l=x.default.Modals)||void 0===l?void 0:l.srpListing:null===(n=x.default.SearchRequest)||void 0===n?void 0:n.getRelevantVehicle(t.props.source),b=null===(i=x.default.VehicleDetails)||void 0===i?void 0:i.isLite,e.t0=t.props.source,e.next="followModal"===e.t0?7:"photo"===e.t0?10:"srpListing"===e.t0?12:14;break;case 7:return j=(null===(s=x.default.SearchRequest)||void 0===s?void 0:s.selectedVehicle.vin)!==(null===(o=x.default.SearchRequest)||void 0===o?void 0:o.followedVehicle.vin),g="".concat(b&&j?"VDP Lite Similar Cars":b?"VDP Lite Main":"VDP"," | Email Lead Form"),e.abrupt("break",15);case 10:return g="".concat(b?"VDP Lite Main":"Lightbox"," | Email Lead Form"),e.abrupt("break",15);case 12:return g="SRP | Vehicle Module",e.abrupt("break",15);case 14:g="".concat(b?"VDP Lite Main":"VDP"," | Email Lead Form");case 15:if("followModal"!==t.props.source&&(0,h.trackClickEVars)("eVar132",g,"event63",""),null===(c=x.default.DealerContact)||void 0===c||c.setFormData(a),null===(d=x.default.DealerContact)||void 0===d||d.clearListings(),null===(u=x.default.User)||void 0===u||u.setName(a.lastName?[a.firstName,a.lastName]:a.firstName),a.phone&&(null===(p=x.default.User)||void 0===p||p.setPhone(a.phone)),e.prev=20,!a.email||C.default.getAuthUserCookie()){e.next=31;break}return e.next=24,_.default.signUpAndAuthorize(a.email);case 24:return D=e.sent,k=I({email:a.email},a&&a.zip&&{zip:a.zip}),e.next=28,y.default.verifyAccount(k);case 28:throw 201===e.sent.status&&(P=(0,S.transformOAuthTokenResultToUserInfo)(D,a.email),null===(w=x.default.User)||void 0===w||w.login(P),m=!0),new Error("Problem on dealer lead new account creation");case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(20),e.t1.code&&"user_exists"===e.t1.code?f=!0:t.setState({errorMessage:N.errorMessages.system.general});case 37:return e.prev=37,V=(null===(O=x.default.User)||void 0===O?void 0:O.id)||0,f&&(a.userExistsNotLoggedIn=!0),m&&(a.didCreateNewUser=!0),L=(0,S.transformFormDataAndListingIntoFormLeadInfo)(a,v,V),t.submitDealerLeadRequest(L,v),e.finish(37);case 44:case"end":return e.stop()}}),e,null,[[20,33,37,44]])})));return function(t){return e.apply(this,arguments)}}()),(0,m.default)((0,c.default)(t),"submitDealerLeadRequest",(function(e,a,l){var n,r,i,s;e.note=j.default.appendCheckboxesComments(e),null===(n=x.default.User)||void 0===n||n.setDataLayerAttributes(e);var o=e.email?P.default.MD5(e.email):null===(r=x.default.User)||void 0===r?void 0:r.hashedEmail;j.default.sendDealerLead(e).then((function(n){var r;if(null!==(r=x.default.User)&&void 0!==r&&r.authToken){var i,s,c,d,u,p=null===(i=x.default.User)||void 0===i?void 0:i.id;null===(s=x.default.User)||void 0===s||s.getProfile(p),null===(c=x.default.SearchRequest)||void 0===c||c.setFollows([e.listingId,"post"]);var m=b.default.loadUserCookieData(),C=null===(d=x.default.User)||void 0===d?void 0:d.email;e.phone&&!C&&(C=(new g.default).get(k.default.getAuthUserCookie.name)),b.default.saveUserCookie(null===(u=x.default.User)||void 0===u?void 0:u.id,C,m.api,m.expiresIn)}if(422===n.status&&(t.setState({leadLimit:!0}),t.fireOmnitureLeadLimit()),422!==n.status&&!t.state.leadLimit){var j,y,_,N,S,w,P,O;switch(t.props.source){case"vdp":O=["Find Car - Details - Contact Seller Thank You","Find Car Details Contact Seller Thank You"];break;case"srpListing":O=["Find Car- Contact Seller Thank You","On Find Car Contact Seller Thank You"];break;case"photo":O=["Find Car - Photo Lightbox - Contact Seller Thank You","Find Car Details Contact Seller Thank You"];break;case"icr":O=["Find Car - ICR - Contact Seller Thank You","Find Car ICR Contact Seller Thank You"];break;default:O=["".concat(t.props.isSecondaryActionVariation?"Find Car - Modal - Contact Seller Thank You":"Find Car - Details - Contact Seller Thank You"),"".concat(t.props.isSecondaryActionVariation?"Find Car Modal Contact Seller Thank You":"Find Car Details Contact Seller Thank You")]}null===(j=x.default.VehicleDetails)||void 0===j||j.setLeadFormSubmitSource(t.props.source);var V=(0,h.buildProps)({pageName:{value:O[0]},prop2:{value:O[1]},prop3:{value:"Find Car Lead Thank You"},prop4:{value:"Find a Car"},events:{event:(0,v.joinStringsWith)(",",["event5","event55",e.isNewUser&&"event111",e.isNewUser&&"event313"])},prop70:{value:a.badge||"No Value"}},[].concat(["pageName","prop25","prop40","prop41","prop42","prop49","prop50","prop51","prop57","prop58","prop70","eVar28","eVar93","eVar132"]),I(I({},a),{},{listingStatus:a.listingStatus||"Unspecified"}));(0,h.trackPage)(V),null===(y=x.default.VehicleDetails)||void 0===y||y.setMobileLeadFormSource(""),null===(_=x.default.VehicleDetails)||void 0===_||_.setFollowButtonSource(""),"icr"===t.props.source?f.default.icrLeadSubmit(e):f.default.vdpLeadSubmit(e),null===(N=x.default.Analytics)||void 0===N||N.trackEmailLead(),null===(S=x.default.Analytics)||void 0===S||S.trackFollowCar();var L=a.vin+o,F=a.dealer.location?a.dealer.location.zip:0,R=b.default.getDataLayerCookie();D.default.pushToDataLayer({event:"uclEmailLead",pageState:V?V.prop2:V,pageTier:V?V.prop4:V,siteType:null===(w=x.default.App)||void 0===w?void 0:w.siteType,emailHashed:o,vin:a.vin,year:"".concat(a.year),make:a.make,model:a.model,dzip:F,transactionId:L,price:a.listPrice,emailHashed256:R&&R.emailHashed256?R.emailHashed256:null,fname:R&&R.fname?R.fname:null,lname:R&&R.lname?R.lname:null,hzip:R&&R.hzip?R.hzip:null,pno:R&&R.pno?R.pno:null,ddc:a.dealer.ddcValue});var M=n.data.listings||n.data.uclSearchResponse.listings;null===(P=x.default.DealerContact)||void 0===P||P.setResponse(M)}l&&l()})).catch((function(e){console.log(e),l&&l()})),null===(i=x.default.DealerContact)||void 0===i||i.setDisableFormButton(!1),null===(s=x.default.SearchRequest)||void 0===s||s.setSentMessage("followModal"===t.props.source)})),(0,m.default)((0,c.default)(t),"scrollContainerIntoViewIfNeeded",(function(){if(t.containerRef.current){var e=["header.page-header",{selector:".back-to-srp-fixed",getHeight:function(e){return e.offsetTop>0?e.clientHeight:0}}].map((function(e){return{selector:e,element:document.querySelector((0,v.isString)(e)?e:e.selector)}})).filter((function(e){var t=e.element;return(0,v.isNonNull)(t)})).map((function(e){var t=e.selector,a=e.element;return(0,v.isString)(t)?a.clientHeight:t.getHeight(a)})).reduce((function(e,t){return e+t}),0),a=t.containerRef.current.getBoundingClientRect(),l=t.containerRef.current.clientHeight>0,n=a.top+window.scrollY-e;l&&n-window.scrollY<0&&w.default.animatedScrollTo(n)}})),t.state={leadLimit:!1},t.containerRef=V.createRef(),t}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e;null===(e=x.default.Optimizely)||void 0===e||e.activatePage("user-authentication")}},{key:"componentWillUnmount",value:function(){var e;null===(e=x.default.Modals)||void 0===e||e.setCheckAvailabilityForm(!1)}},{key:"render",value:function(){var e,t,a,l,n,r,i,s,o,c;if("icr"===this.props.source&&"SOLD"===(null===(e=x.default.VehicleDetails)||void 0===e?void 0:e.selectedVehicle.listingStatus))return null;var d=this.props.checkCTA?null===(t=x.default.Modals)||void 0===t?void 0:t.srpListing:null===(a=x.default.SearchRequest)||void 0===a?void 0:a.getRelevantVehicle(this.props.source);return"undefined"!=typeof window?w.default.getCurrentPageType():this.props.source,(0,T.jsxs)("div",{className:"vdp-container dealer-contact-wrapper",ref:this.containerRef,children:[(0,T.jsxs)("div",{className:(0,v.classNames)("dealer-contact-wrapper-inner","followModal"===this.props.source&&"dealer__contact__wrapper__inner--postFollow"),children:[(0,T.jsx)("div",{className:"dealer-contact-header",children:(0,T.jsx)(F.default,{containerClassName:"dealer-contact-header-inner",source:this.props.source})}),(0,T.jsxs)("div",{className:"dealer-contact-body",children:[(0,T.jsx)(R.default,{formSubmit:this.formSubmit,isVisible:!(null!=d&&d.sentLead),source:this.props.source,id:this.props.id}),(0,T.jsx)(L.default,{formData:null===(l=x.default.DealerContact)||void 0===l?void 0:l.formData,similarListings:null===(n=x.default.DealerContact)||void 0===n?void 0:n.similarListings,source:this.props.source,isVisible:!(null==d||!d.sentLead),onVisible:this.scrollContainerIntoViewIfNeeded,leadLimit:(null===(r=x.default.DealerContact)||void 0===r?void 0:r.leadLimit)||this.state.leadLimit})]}),null==d||!d.sentLead||null!==(i=x.default.App)&&void 0!==i&&i.isMobile?(0,T.jsxs)("div",{className:"dealer-contact-footer",children:["I agree to receive autodialed and/or prerecorded telemarketing calls/texts from or on behalf of CARFAX and/or seller at the mobile number provided above. I understand that consent is not a condition of purchase. I agree to creating an account subject to the"," ",(0,T.jsx)("a",{href:"https://www.carfax.com/company/privacy-statement",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})," ","&"," ",(0,T.jsx)("a",{href:"https://www.carfax.com/company/legal-disclaimer",target:"_blank",rel:"noopener noreferrer",children:"Terms of Use."})]}):""]}),(0,T.jsx)(M.default,{dealer:null==d?void 0:d.dealer,vehicleSMCParams:null===(s=x.default.SearchRequest)||void 0===s?void 0:s.selectedVehicleSMCParams,dealerSMCParams:null===(o=x.default.SearchRequest)||void 0===o?void 0:o.selectedDealerSMCParams,mainWrapperClass:"dealer-contact-form-complete-smc",innerClass:"smc-inner-no-border",widgetType:"SMC Lead Form",widgetLocation:"Lead Form",pageType:"VDP",isVisible:!(null==d||!d.sentLead)&&(null===(c=x.default.SearchRequest)||void 0===c?void 0:c.displaySMC_VDP)})]})}}]),n}(V.Component);(0,m.default)(U,"defaultProps",{source:"",id:"",checkCTA:!1});var q=(0,O.observer)(U);t.default=q},"./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=l(a("./client/analytics/BeaconHelperApi.ts")),p=a("./client/utils/utils.ts"),m=a("./node_modules/mobx-react/dist/mobxreact.esm.js"),f=a("./node_modules/react/index.js"),h=l(a("./client/stores/stores.ts"));a("./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.scss");var v=l(a("./client/components/VehicleDetails/DealerContact/DealerContactFooter.tsx")),b=l(a("./client/components/VehicleDetails/DealerContact/DealerContactSimilarListing.tsx")),g=a("./node_modules/react/jsx-runtime.js");var C=function(e){(0,s.default)(m,e);var t,a,l=(t=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,c.default)(t);if(a){var n=(0,c.default)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,o.default)(this,e)});function m(e){var t,a,r;return(0,n.default)(this,m),r=l.call(this,e),(0,d.default)((0,i.default)(r),"handleInventoryClick",(function(e){if(e.preventDefault(),"ENHANCED"===r.listing.recordType)switch(r.props.source){case"vdp":default:u.default.vdpTypMicroSite(r.listing);break;case"icr":u.default.uclIcrTypMicroSite(r.listing)}else switch(r.props.source){case"vdp":default:u.default.vdpTypSrp(r.listing);break;case"icr":u.default.icrTypSrp(r.listing)}var t;t="ENHANCED"===r.listing.recordType?r.listing.dealer.cfxMicrositeUrl:"/search?make=".concat(r.listing.make,"&model=").concat(r.listing.model,"&zip=").concat(r.listing.dealer.location.zip,"&radius=50"),"icr"===r.props.source?top.window.location.assign(t):window.open(t,"_blank")})),(0,d.default)((0,i.default)(r),"renderSimilarListings",(function(){return r.props.similarListings.map((function(e){var t;return(0,g.jsx)(b.default,{formData:r.props.formData,message:r.props.formData.message,listing:e,transactionId:e.vin+(null===(t=h.default.User)||void 0===t?void 0:t.userId),dealerId:e.dealer.id,source:r.props.source})}))})),r.state={},r.listing=(null===(t=h.default.SearchRequest)||void 0===t?void 0:t.getRelevantVehicle(r.props.source))||(null===(a=h.default.Modals)||void 0===a?void 0:a.srpListing),r}return(0,r.default)(m,[{key:"componentDidUpdate",value:function(e){!e.isVisible&&this.props.isVisible&&"function"==typeof this.props.onVisible&&this.props.onVisible()}},{key:"render",value:function(){var e,t=this.props.leadLimit?"Thank you for contacting this dealer.":"Your message was sent!",a=this.props.similarListings.length?"Send message to check availability on these cars.":"Thank you for contacting this dealer.",l=this.props.leadLimit?"To protect your privacy, we are limiting the number of times your email address or phone number is used per day.  Please call the dealer directly.":a,n=(0,g.jsx)("button",{className:"dealer__inventory__button",onClick:this.handleInventoryClick,children:"View Similar Cars in Your Area"});return"ENHANCED"===this.listing.recordType&&(n=(0,g.jsx)("button",{className:"dealer__inventory__button",onClick:this.handleInventoryClick,children:"View All Dealer Inventory"})),(0,g.jsx)("div",{ref:this.containerRef,className:(0,p.classNames)("dealer-contact-form-complete",this.props.isVisible?"show":"hide"),children:(0,g.jsxs)("div",{className:"dealer-contact-form-complete-inner",children:[(0,g.jsx)("span",{className:"message-complete",children:t}),(0,g.jsx)("p",{children:l}),this.props.similarListings?this.renderSimilarListings():null,(0,g.jsx)("div",{className:"row align-right align-bottom dealer-inventory-link".concat(this.listing.dealer.cfxMicrositeUrl?" show":" hide"),children:n}),!(null!==(e=h.default.App)&&void 0!==e&&e.isMobile)&&(0,g.jsx)("div",{className:"dealer-contact-form-complete-footer",children:(0,g.jsx)(v.default,{containerClassName:"dealer-contact-header-inner",source:this.props.source})})]})})}}]),m}(f.Component),j=(0,m.observer)(C);t.default=j},"./client/components/VehicleDetails/DealerContact/DealerContactFooter.tsx":(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("./client/components/VehicleDetails/DealerContact/DealerContactFooter.scss");var l=a("./node_modules/react/jsx-runtime.js");t.default=function(){return(0,l.jsxs)("div",{className:"footer-body",children:["I agree to receive autodialed and/or prerecorded telemarketing calls/texts from or on behalf of CARFAX and/or seller at the mobile number provided above. I understand that consent is not a condition of purchase. I agree to creating an account subject to the"," ",(0,l.jsx)("a",{href:"https://www.carfax.com/company/privacy-statement",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})," ","&"," ",(0,l.jsx)("a",{href:"https://www.carfax.com/company/legal-disclaimer",target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})]})}},"./client/components/VehicleDetails/DealerContact/DealerContactForm.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/regenerator/index.js")),r=l(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),s=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),o=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),c=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),d=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),u=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),m=a("./node_modules/react/index.js"),f=a("./node_modules/mobx-react/dist/mobxreact.esm.js"),h=l(a("./node_modules/lodash/lodash.js")),v=l(a("./node_modules/dompurify/dist/purify.js")),b=l(a("./client/stores/stores.ts")),g=l(a("./client/utils/utilities.ts")),C=a("./node_modules/@carfax-stencils/spinner/lib/src/index.js"),j=l(a("./node_modules/validator/lib/isEmail.js")),y=l(a("./client/analytics/BeaconHelperApi.ts")),x=l(a("./client/components/Common/Basic/Checkbox/Checkbox.tsx")),D=l(a("./shared/helpers/CookieManager.ts")),_=a("./client/utils/utils.ts"),k=a("./node_modules/react/jsx-runtime.js");var N=function(e){(0,c.default)(m,e);var t,a,l=(t=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,u.default)(t);if(a){var n=(0,u.default)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,d.default)(this,e)});function m(e){var t;return(0,i.default)(this,m),t=l.call(this,e),(0,p.default)((0,o.default)(t),"inputFocused",void 0),(0,p.default)((0,o.default)(t),"checkboxes",void 0),(0,p.default)((0,o.default)(t),"customRule",void 0),(0,p.default)((0,o.default)(t),"setMobileContactFooterDisplay",(function(){var e,a=!1;Object.keys(t.inputFocused).forEach((function(e){!0===t.inputFocused[e]&&(a=!0)})),null===(e=b.default.DealerContact)||void 0===e||e.setIsFocusedOnLeadForm(a)})),(0,p.default)((0,o.default)(t),"handleOnChange",(function(e){var a,l,n,r,i;e.preventDefault();var s=e.target.name,o=e.target.value;switch(s){case"firstName":null===(a=b.default.User)||void 0===a||a.setFirstName(o);break;case"lastName":null===(l=b.default.User)||void 0===l||l.setLastName(o);break;case"zip":null===(n=b.default.User)||void 0===n||n.setZip(o);break;case"phone":null===(r=b.default.User)||void 0===r||r.setPhone(g.default.formatPhone(e.target.value));break;case"email":null===(i=b.default.User)||void 0===i||i.setEmail(o);break;default:t.setState((0,p.default)({},s,o))}})),(0,p.default)((0,o.default)(t),"handleOnCheck",(function(e){var t;null===(t=b.default.User)||void 0===t||t.toggleLeadCheckbox(e)})),(0,p.default)((0,o.default)(t),"handleValidation",(function(e){e.preventDefault(),t.handleFocusChange(e,!1);var a=e.target,l=a.name,n=a.value;if("email"===l||"phone"===l){var r,i=null===(r=b.default.User)||void 0===r?void 0:r[l];t.props.validateElements(l,i,t.customRule)}return t.props.validateElements(l,n,t.customRule)})),(0,p.default)((0,o.default)(t),"toggleSubscribeState",(function(){t.setState({subscribe:!t.state.subscribe})})),(0,p.default)((0,o.default)(t),"handleOnFormSubmit",function(){var e=(0,r.default)(n.default.mark((function e(a){var l,r,i,s,o;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),l=b.default.User,r=b.default.DealerContact,i=[],null==l||l.leadCheckboxes.forEach((function(e){if(!0===e.checked){var a=e,l=h.default.filter(t.checkboxes,{id:e.id});a.value=l[0].value,i.push(a)}})),s={firstName:null==l?void 0:l.firstName,lastName:null==l?void 0:l.lastName,zip:null==l?void 0:l.zip,email:null==l?void 0:l.email,phone:null==l?void 0:l.phone,checkboxes:i},o=Object.assign(s,t.state,{note:v.default.sanitize(t.state.note)}),t.props.validateForm(o,t.customRule),!t.props.isValid()||!t.props.formSubmit){e.next=15;break}return null==l||l.setIsLoading(!0),null==r||r.setDisableFormButton(!0),e.next=12,t.props.formSubmit(o);case 12:null==l||l.setIsLoading(!1),D.default.saveFormInfo(null==l?void 0:l.firstName,null==l?void 0:l.lastName,null==l?void 0:l.phone,null==l?void 0:l.leadCheckboxes),D.default.saveZip(null==l?void 0:l.zip);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.default)((0,o.default)(t),"handleToggleNote",(function(e){var a,l;e.preventDefault(),t.setState({showNote:!t.state.showNote}),y.default.vdpContactMessage((null===(a=b.default.SearchRequest)||void 0===a?void 0:a.selectedVehicle)||(null===(l=b.default.Modals)||void 0===l?void 0:l.srpListing))})),(0,p.default)((0,o.default)(t),"customError",(function(){var e,a=t.props.validateState.errors;return"Email or Phone is required!"!==a.phone&&"Email or Phone is required!"!==a.email||(e="is-invalid-input"),e})),(0,p.default)((0,o.default)(t),"handleFocusChange",(function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=e.target.name;a?t.updateInputFocusedObject(l,a):setTimeout((function(){t.updateInputFocusedObject(l,a)}),150),g.default.isAndroidMobile(navigator&&navigator.userAgent)&&e.target.scrollIntoView({block:"center",behavior:"smooth"})})),(0,p.default)((0,o.default)(t),"updateInputFocusedObject",(function(e,a){t.inputFocused=Object.assign({},t.inputFocused,(0,p.default)({},e,a)),t.setMobileContactFooterDisplay()})),(0,p.default)((0,o.default)(t),"renderCheckboxes",(function(){return t.checkboxes.map((function(e,a){var l,n=a+1,r=null===(l=b.default.User)||void 0===l?void 0:l.leadCheckboxes[a];return(0,k.jsx)("div",{className:"row small-collapse text-left align middle lead-check-box",children:(0,k.jsx)(x.default,{title:e.value,id:n.toString(),labelClass:"checkbox checkbox-styled control-label",checked:null==r?void 0:r.checked,handleClick:function(){return t.handleOnCheck(e.id)},handleKeyDown:function(){return g.default.handleKeysDown([" ","Enter"],(function(){return t.handleOnCheck(e.id)}))},isLeadForm:!0})},"cbx-".concat(n))}))})),t.state={subscribe:!0,showNote:!1},t.inputFocused={firstName:!1,lastName:!1,zip:!1,email:!1,phone:!1,personalNote:!1},t.checkboxes=[{id:1,value:"Is this vehicle still available?"},{id:2,value:"What payment terms are available?"},{id:3,value:"When can I test drive this vehicle?"}],t.customRule={email:[{rule:function(e){var t,a;return null!==(t=b.default.User)&&void 0!==t&&t.email||null!==(a=b.default.User)&&void 0!==a&&a.phone?e&&!(0,j.default)(e)?{isError:!0,hint:"Email is invalid!"}:void 0:{isError:!0,hint:"Email or Phone is required!"}},hint:""}],phone:[{rule:function(e){var t,a;return null!==(t=b.default.User)&&void 0!==t&&t.email||null!==(a=b.default.User)&&void 0!==a&&a.phone?e&&!g.default.validatePhone(e)?{isError:!0,hint:"Phone is invalid!"}:void 0:{isError:!0,hint:"Email or Phone is required!"}},hint:""}]},t}return(0,s.default)(m,[{key:"componentDidMount",value:function(){var e,t,a,l,n,r=D.default.loadFormInfo(),i=D.default.loadZip();null===(e=b.default.User)||void 0===e||e.setFirstName(r.first),null===(t=b.default.User)||void 0===t||t.setLastName(r.last),null===(a=b.default.User)||void 0===a||a.setPhone(g.default.formatPhone(r.phone)),null===(l=b.default.User)||void 0===l||l.setLeadCheckboxes(r.checkboxes),null===(n=b.default.User)||void 0===n||n.setZip(i)}},{key:"render",value:function(){var e,t,a,l,n,r,i,s,o,c,d,u=this,p=(null===(e=b.default.SearchRequest)||void 0===e?void 0:e.getRelevantVehicle(this.props.source))||(null===(t=b.default.Modals)||void 0===t?void 0:t.srpListing),m="ENHANCED"===(null==p?void 0:p.recordType)&&p.dealer?p.dealer.label:"Selling Dealer",f="TX"===h.default.get(p,"dealer.location.state")?"Email me new listings for my search.":"Email me price drops and new listings for my search.",v=g.default.generateInputId("dealer-contact-form",null==p?void 0:p.id,null===(a=b.default.Modals)||void 0===a?void 0:a.modal,"note",this.props.source,this.props.id);return(0,k.jsx)("div",{className:(0,_.classNames)("dealer-contact-form",this.props.isVisible?"show":"hide"),children:(0,k.jsx)("div",{className:"dealer-contact-form-inner",children:(0,k.jsxs)("form",{onSubmit:this.handleOnFormSubmit,children:[(0,k.jsx)("div",{className:"dealer-contact-flash row",children:this.props.renderValidationHints()}),(0,k.jsx)("div",{className:"dealer-contact-sendMsg align-top row",children:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("img",{className:"main__icon",src:"https://static.carfax.com/uclassets/images/icon-Mail.png",alt:"Email Dealer"}),(0,k.jsxs)("span",{className:"column",children:[(0,k.jsx)("strong",{children:"Send To: "}),m]})]})}),(0,k.jsxs)("div",{className:"row align-middle dealer-contact__full-name",children:[(0,k.jsx)("div",{children:"Hi, my name is"}),(0,k.jsx)("div",{className:"first-name-input__wrapper ".concat(this.props.errorClass("firstName")),children:(0,k.jsx)("input",{"aria-label":"First Name",className:"ui-input form-control input-sm first-name-input dealer-contact-name ".concat(this.props.errorClass("firstName")),name:"firstName",type:"text",placeholder:"First Name",value:null===(l=b.default.User)||void 0===l?void 0:l.firstName,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})}),(0,k.jsx)("div",{className:"column right-end-col last-name-input__wrapper ".concat(this.props.errorClass("lastName")),children:(0,k.jsx)("input",{"aria-label":"Last Name",className:"ui-input form-control input-sm last-name-input dealer-contact-name ".concat(this.props.errorClass("lastName")),name:"lastName",type:"text",placeholder:"Last Name",value:null===(n=b.default.User)||void 0===n?void 0:n.lastName,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})})]}),(0,k.jsx)("div",{className:"row align-middle",children:(0,k.jsxs)("div",{children:[null!==(r=b.default.App)&&void 0!==r&&r.isMobile?(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{children:"and I'm interested in your "}),(0,k.jsx)("span",{className:"vehicle",children:(0,k.jsx)("b",{children:null==p?void 0:p.title})})]}):(0,k.jsxs)("div",{className:"second-form-row",children:[(0,k.jsx)("span",{children:"and I'm interested in your "}),(0,k.jsx)("span",{className:"vehicle",children:(0,k.jsx)("b",{children:null==p?void 0:p.title})})]}),(0,k.jsx)("span",{className:"dealer-contact__my__location",children:"I'm in the "}),(0,k.jsx)("div",{className:"dealer-contact-zip-container ".concat(this.props.errorClass("zip")),children:(0,k.jsx)("input",{"aria-label":"Zip Code",name:"zip",type:"tel",placeholder:"Zip Code",className:"ui-input form-control input-sm dealer-contact-zip ".concat(this.props.errorClass("zip")),value:null===(i=b.default.User)||void 0===i?void 0:i.zip,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})}),(0,k.jsx)("span",{children:" area and you can reach me at"})]})}),(0,k.jsxs)("div",{className:"row align-middle last-form-row",children:[(0,k.jsx)("div",{className:"column email-column",children:(0,k.jsx)("input",{"aria-label":"Email Address",type:"email",name:"email",ref:"email",placeholder:"Email Address",className:"ui-input form-control input-sm dealer-contact-email ".concat(this.customError()," ").concat(this.props.errorClass("email")),value:null===(s=b.default.User)||void 0===s?void 0:s.email,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})}),(0,k.jsx)("div",{className:"center-text",children:" or "})]}),(0,k.jsx)("div",{className:"row align-middle last-form-row",children:(0,k.jsx)("div",{className:"dealer-contact-phone-container ".concat(this.props.errorClass("phone")," ").concat(this.customError()),children:(0,k.jsx)("input",{name:"phone",ref:"phone","aria-label":"Phone Number",placeholder:"Phone Number",className:"ui-input form-control input-sm phone-input dealer-contact-phone ".concat(this.props.errorClass("phone")," ").concat(this.customError()),type:"tel",value:null===(o=b.default.User)||void 0===o?void 0:o.phone,onChange:this.handleOnChange,onBlur:this.handleValidation,onFocus:this.handleFocusChange})})}),(0,k.jsx)("div",{className:"row align-middle"}),(0,k.jsx)("div",{className:"cb-questions",children:this.renderCheckboxes()}),(0,k.jsx)("button",{"aria-expanded":this.state.showNote,type:"button",className:"dealer-contact-add-note row ".concat(this.state.showNote?"remove":"add"),onClick:this.handleToggleNote,id:v,children:"Add a personal note (optional)"}),(0,k.jsx)("textarea",{"aria-labelledby":v,name:"note",className:"ui-input form-control input-sm dealer-contact-note",inputMode:"text",value:this.state.note,onChange:this.handleOnChange,onBlur:function(e){return u.handleFocusChange(e,!1)},onFocus:this.handleFocusChange,style:{display:this.state.showNote?"block":"none"}}),(0,k.jsx)("div",{className:"row",children:(0,k.jsx)("button",{type:"submit",className:"search-submit button large expanded primary-green btn-primary-large dealer__contact__submit",value:"Send_Message",disabled:null===(c=b.default.DealerContact)||void 0===c?void 0:c.disableFormButton,children:null!==(d=b.default.User)&&void 0!==d&&d.isLoading?(0,k.jsx)(C.SpinnerDots,{darkMode:!0,size:14}):"Send Message"})}),(0,k.jsx)("div",{className:"row text-left align middle lead-check-box subscribe-cb",children:(0,k.jsx)(x.default,{title:f,checked:this.state.subscribe,labelClass:"checkbox checkbox-styled control-label",textClass:"checkbox-list-item--text",wrapperClass:"checkbox-list-item row",handleClick:this.toggleSubscribeState,handleKeyDown:function(){return g.default.handleKeysDown([" ","Enter"],(function(){return u.toggleSubscribeState()}))},isLeadForm:!0})})]})})})}}]),m}(m.Component);(0,p.default)(N,"defaultProps",{validateState:{errors:""},id:"",validateElements:function(){},validateForm:function(){},errorClass:function(){}});var S=(0,f.observer)(N);t.default=S},"./client/components/VehicleDetails/DealerContact/DealerContactHeader.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=l(a("./client/analytics/BeaconHelperApi.ts")),p=a("./client/analytics/TrackingHelperApi.ts"),m=l(a("./client/stores/stores.ts")),f=a("./node_modules/mobx-react/dist/mobxreact.esm.js"),h=a("./node_modules/react/index.js"),v=l(a("./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.tsx")),b=a("./node_modules/react/jsx-runtime.js");var g=function(e){(0,s.default)(f,e);var t,a,l=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,c.default)(t);if(a){var n=(0,c.default)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,o.default)(this,e)});function f(e){var t;return(0,n.default)(this,f),t=l.call(this,e),(0,d.default)((0,i.default)(t),"handleCallClick",(function(){var e,a,l,n,r=(null===(e=m.default.SearchRequest)||void 0===e?void 0:e.getRelevantVehicle(t.props.source))||(null===(a=m.default.Modals)||void 0===a?void 0:a.srpListing);u.default.vdpPhone(r);var i=null===(l=m.default.VehicleDetails)||void 0===l?void 0:l.isLite,s="".concat(i?"VDP Lite Main":"VDP"," | Email Lead Form");if("followModal"===t.props.source){var o,c,d=(null===(o=m.default.SearchRequest)||void 0===o?void 0:o.selectedVehicle.vin)!==(null===(c=m.default.SearchRequest)||void 0===c?void 0:c.followedVehicle.vin);s="".concat(i&&d?"VDP Lite Similar Cars":i?"VDP Lite Main":"Follow Modal"," | Phone")}(0,p.trackClickEVars)("eVar132",s,"event49","Mobile Call Dealer - ".concat(null==r?void 0:r.dealer.label," - ").concat(null==r?void 0:r.dealer.location.city," - ").concat(null==r?void 0:r.dealer.location.state," - ").concat(null==r?void 0:r.dealer.location.zip," - ").concat(null==r?void 0:r.dealer.phone),null==r?void 0:r.dealer),null===(n=m.default.Analytics)||void 0===n||n.trackPhoneTaps(r.dealer)})),t.state={},t}return(0,r.default)(f,[{key:"render",value:function(){var e,t,a=(null===(e=m.default.SearchRequest)||void 0===e?void 0:e.getRelevantVehicle(this.props.source))||(null===(t=m.default.Modals)||void 0===t?void 0:t.srpListing),l=null!=a&&a.dealer&&a.dealer.phone&&a.dealer.phone.length?a.dealer.phone:"",n="ENHANCED"===(null==a?void 0:a.recordType),r=(null==a?void 0:a.dealer.phone)&&a.dealer.phone.length;return(0,b.jsxs)("div",{className:this.props.containerClassName,children:[(0,b.jsx)("h2",{className:"dealer-contact-title",children:"Check Availability"}),n&&r?(0,b.jsxs)("span",{className:"dealer-contact-subTitle align-middle",children:[(0,b.jsx)("img",{src:"https://static.carfax.com/uclassets/images/icon-Phone.svg",alt:"Call Dealer"}),(0,b.jsx)("span",{className:"show-for-xlarge",children:l&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"call-label",children:"Call: "}),l]})}),(0,b.jsxs)("span",{className:"hide-for-xlarge mobile-call-link",children:[l&&(0,b.jsx)("span",{className:"call-label",children:"Call: "}),(0,b.jsx)("a",{href:"tel:".concat(l),target:"_parent",onClick:this.handleCallClick,children:l})]})]}):null,(0,b.jsx)(v.default,{})]})}}]),f}(h.Component),C=(0,f.observer)(g);t.default=C},"./client/components/VehicleDetails/DealerContact/DealerContactHocEntry.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./client/components/Common/FormValidationHOC/FormValidationHOC.tsx")),r=l(a("./client/components/VehicleDetails/DealerContact/DealerContactForm.tsx")),i=(0,n.default)(r.default);t.default=i},"./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=l(a("./client/stores/stores.ts")),p=a("./client/utils/utils.ts"),m=l(a("./client/utils/utilities.ts")),f=a("./node_modules/mobx-react/dist/mobxreact.esm.js"),h=a("./node_modules/react/index.js");a("./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.scss");var v=a("./node_modules/react/jsx-runtime.js");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=function(e){(0,s.default)(f,e);var t,a,l=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,c.default)(t);if(a){var n=(0,c.default)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,o.default)(this,e)});function f(){var e;(0,n.default)(this,f);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=l.call.apply(l,[this].concat(a)),(0,d.default)((0,i.default)(e),"sendToSMC",(function(t){var a=u.default.User,l=a.phone,n=a.id,r=a.firstName,i=a.lastName,s=a.email,o=a.zip;t.preventDefault();var c="VDP"===e.props.pageType,d={oneaccountid:n||null,firstname:r||null,lastname:i||null,phone:(l?l.replace("(","").replace(")","").replace(" ","-"):null)||null,email:s||null,zip:o};c&&(d=g(g(g({},d),e.props.vehicleSMCParams),e.props.dealerSMCParams)),m.default.openSMC(d,e.props.widgetType,e.props.widgetLocation,e.props.pageType)})),e}return(0,r.default)(f,[{key:"render",value:function(){return(0,v.jsx)("div",{className:(0,p.classNames)(this.props.mainWrapperClass,this.props.isVisible?"show":"hide"),children:(0,v.jsxs)("div",{className:this.props.innerClass,children:[(0,v.jsx)("div",{className:this.props.headlineParentClass,children:(0,v.jsx)("span",{className:this.props.headlineClass,children:"Want to sell your car?"})}),(0,v.jsx)("div",{className:this.props.buttonParentClass,children:(0,v.jsx)("button",{className:this.props.buttonClass,onClick:this.sendToSMC,children:"Get A Cash Offer"})})]})})}}]),f}(h.Component);(0,d.default)(C,"defaultProps",{dealer:{},vehicleSMCParams:{},dealerSMCParams:{},pageType:"VDP",isVisible:!1,mainWrapperClass:"dealer-contact-form-complete-smc",innerClass:"smc-inner row",headlineParentClass:"smc-left-col",headlineClass:"smc-headline",buttonParentClass:"smc-right-col",buttonClass:"button smc-btn"});var j=(0,f.observer)(C);t.default=j},"./client/components/VehicleDetails/DealerContact/DealerContactSimilarListing.tsx":(e,t,a)=>{var l=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("./node_modules/@babel/runtime/helpers/classCallCheck.js")),r=l(a("./node_modules/@babel/runtime/helpers/createClass.js")),i=l(a("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),s=l(a("./node_modules/@babel/runtime/helpers/inherits.js")),o=l(a("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=l(a("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),d=l(a("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=a("./node_modules/react/index.js"),p=a("./node_modules/mobx-react/dist/mobxreact.esm.js"),m=l(a("./node_modules/crypto-js/index.js")),f=l(a("./client/analytics/BeaconHelperApi.ts")),h=a("./client/analytics/TrackingHelperApi.ts"),v=l(a("./client/utils/AppUtils.ts")),b=a("./client/utils/transforms.ts"),g=l(a("./client/stores/stores.ts")),C=l(a("./client/utils/utilities.ts")),j=a("./node_modules/react/jsx-runtime.js");var y=function(e){(0,s.default)(u,e);var t,a,l=(t=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,c.default)(t);if(a){var n=(0,c.default)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,o.default)(this,e)});function u(e){var t;return(0,n.default)(this,u),t=l.call(this,e),(0,d.default)((0,i.default)(t),"formSubmit",(function(e){var a,l,n,r,i,s;C.default.prevent(e);var o=null===(a=g.default.DealerContact)||void 0===a?void 0:a.formData,c=t.props.listing,d=(0,b.transformFormDataAndListingIntoSimilarLeadInfo)(o,c),u=null!=o&&o.email?m.default.MD5(o.email):null===(l=g.default.User)||void 0===l?void 0:l.hashedEmail;switch(null===(n=g.default.DealerContact)||void 0===n||n.sendLead(d),(0,h.trackClick)("event55,event77","Email Lead from Thank You",c.dealer,!1,c.certified),t.props.source){case"vdp":default:f.default.vdpTypLeadSubmit(d);break;case"icr":f.default.uclIcrTypLeadSubmit(d)}t.setState({sentMessage:!0}),null===(r=g.default.Analytics)||void 0===r||r.trackEmailLead(),null===(i=g.default.Analytics)||void 0===i||i.trackFollowCar();var p=c.dealer.location?c.dealer.location.zip:0;v.default.pushToDataLayer({event:"uclEmailLeadTY",pageState:"Find Car Details Contact Seller Thank You",pageTier:"Find a Car",siteType:null===(s=g.default.App)||void 0===s?void 0:s.siteType,emailHashed:u,vin:c.vin,transactionId:c.vin+u,price:c.listPrice,year:"".concat(c.year),make:c.make,model:c.model,dzip:p,ddc:c.dealer.ddcValue})})),t.state={sentMessage:t.props.messageSent},t.formSubmit=t.formSubmit.bind((0,i.default)(t)),t}return(0,r.default)(u,[{key:"render",value:function(){var e=(0,j.jsx)("button",{onClick:this.formSubmit,className:"button primary-green similar-send-button",children:"Send"}),t=(0,j.jsx)("button",{disabled:!0,className:"button primary-green similar-send-button",children:"Sent"}),a=this.state.sentMessage?t:e,l=this.props.listing,n=l.images&&l.images.firstPhoto?l.images.firstPhoto.small:"https://static.carfax.com/uclassets/images/srp-noimage.png";return"na"===n?null:(0,j.jsxs)("div",{className:"row similar-item align-middle",children:[(0,j.jsx)("div",{className:"column small-3",children:(0,j.jsx)("img",{src:n,alt:""})}),(0,j.jsxs)("div",{className:"column",children:[(0,j.jsx)("div",{className:"row similar-item-text similar-item-text--title",children:"icr"===this.props.source?(0,j.jsx)("a",{href:"/vehicle/".concat(l.vin),target:"_blank",rel:"noopener noreferrer",children:l.title}):(0,j.jsx)("a",{href:"/vehicle/".concat(l.vin),children:l.title})}),(0,j.jsx)("div",{className:"row similar-item-text".concat(l.price&&l.price.current_price?" show":" hide"),children:l.price&&l.price.current_price?l.price.current_price.label:"NA"}),(0,j.jsx)("div",{className:"row similar-item-text",children:l.mileage?"".concat(l.mileage.label," miles"):"NA"}),(0,j.jsx)("div",{className:"row similar-item-text",children:"".concat(l.dealer.location.city,", ").concat(l.dealer.location.state)})]}),(0,j.jsx)("div",{className:"similar-listing-button",children:a})]},this.props.index)}}]),u}(u.Component),x=(0,p.observer)(y);t.default=x},"./client/components/Common/Modal/Shared/ListingInfoSmall/ListingInfoSmall.scss":(e,t,a)=>{a.r(t)},"./client/components/VehicleDetails/DealerContact/DealerContact.scss":(e,t,a)=>{a.r(t)},"./client/components/VehicleDetails/DealerContact/DealerContactConfirmation.scss":(e,t,a)=>{a.r(t)},"./client/components/VehicleDetails/DealerContact/DealerContactFooter.scss":(e,t,a)=>{a.r(t)},"./client/components/VehicleDetails/DealerContact/DealerContactSellMyCar.scss":(e,t,a)=>{a.r(t)}}]);