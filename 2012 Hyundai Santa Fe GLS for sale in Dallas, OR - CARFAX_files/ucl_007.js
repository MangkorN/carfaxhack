"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[351],{"./client/components/Common/Header/Header.tsx":(e,t,l)=>{var s=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(l("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=s(l("./node_modules/@babel/runtime/helpers/createClass.js")),a=s(l("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=s(l("./node_modules/@babel/runtime/helpers/inherits.js")),i=s(l("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=s(l("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=s(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s(l("./client/svgs/SVGCfxLogo.tsx")),m=l("./client/utils/utils.ts"),f=s(l("./client/stores/stores.ts")),p=s(l("./client/utils/Auth.ts")),v=l("./client/utils/constants.ts"),h=s(l("./client/utils/utilities.ts")),b=l("./node_modules/carfax-auth-provider/index.js"),j=l("./node_modules/mobx-react/dist/mobxreact.esm.js"),x=l("./node_modules/react/index.js"),g=s(l("./config.js")),_=s(l("./client/components/Common/LazyHydration/LazyHydration.tsx")),w=s(l("./client/components/Common/PrimaryNav/PrimaryNav.tsx")),y=s(l("./client/components/Common/UserFollowedSavedNav/UserFollowSavedNavBtn.tsx")),N=s(l("./client/components/Common/Header/Header.scss")),k=l("./node_modules/react/jsx-runtime.js");var S=g.default.ENV[g.default.currentEnv()].host,C=function(e){(0,r.default)(b,e);var t,l,s=(t=b,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.default)(t);if(l){var o=(0,d.default)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,i.default)(this,e)});function b(e){var t;return(0,o.default)(this,b),t=s.call(this,e),(0,c.default)((0,a.default)(t),"mobileSiteNavButtonRef",null),(0,c.default)((0,a.default)(t),"isMobileIosSafari",null),(0,c.default)((0,a.default)(t),"desktopBreakpointMql",void 0),(0,c.default)((0,a.default)(t),"handleLogout",(function(e){h.default.prevent(e,null),t.closeFollowDropdown(),p.default.logout()})),(0,c.default)((0,a.default)(t),"handleSignIn",(function(e){var l;h.default.prevent(e,null),null===(l=f.default.Modals)||void 0===l||l.setModal(v.USERAUTHENTICATIONVIEWS.signIn,!1),t.closeFollowDropdown()})),(0,c.default)((0,a.default)(t),"handleSignUp",(function(e){var l;h.default.prevent(e,null),t.closeFollowDropdown(),null===(l=f.default.Modals)||void 0===l||l.setModal(v.USERAUTHENTICATIONVIEWS.signUp,!1)})),(0,c.default)((0,a.default)(t),"toggleMobileMenu",(function(e){var l;h.default.prevent(e,null),t.closeFollowDropdown(),null===(l=f.default.App)||void 0===l||l.toggleMobileMenuOpen(),t.disableScroll()})),(0,c.default)((0,a.default)(t),"closeMobileMenu",(function(e){var l;h.default.prevent(e,null),null===(l=f.default.App)||void 0===l||l.toggleMobileMenuOpen(),t.enableScroll()})),(0,c.default)((0,a.default)(t),"toggleFollowDropdown",(function(e){t.setState({followIsVisible:e})})),(0,c.default)((0,a.default)(t),"closeFollowDropdown",(function(){t.state.followIsVisible&&t.toggleFollowDropdown(!1)})),(0,c.default)((0,a.default)(t),"handleMobileMenuEscape",(function(e){var l;"Escape"===e.key&&null!==(l=f.default.App)&&void 0!==l&&l.mobileMenuOpen&&(t.closeMobileMenu(e),t.mobileSiteNavButtonRef&&t.mobileSiteNavButtonRef.focus())})),(0,c.default)((0,a.default)(t),"handleDesktopBreakpointMqlChange",(function(e){var l=e.matches;t.setState({showingDesktopNav:l},(function(){var e,l,s;null!==(e=f.default.App)&&void 0!==e&&e.mobileMenuOpen&&!t.state.showingDesktopNav?t.disableScroll():(t.enableScroll(),null!==(l=f.default.App)&&void 0!==l&&l.mobileMenuOpen&&(null===(s=f.default.App)||void 0===s||s.toggleMobileMenuOpen()))}))})),(0,c.default)((0,a.default)(t),"disableScrollMobileIosSafari",(function(){t.setState({scrollPosition:window.pageYOffset},(function(){document.body.style.top="-".concat(t.state.scrollPosition,"px")})),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"})),(0,c.default)((0,a.default)(t),"enableScrollMobileIosSafari",(function(){document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),window.scrollTo(0,t.state.scrollPosition)})),(0,c.default)((0,a.default)(t),"disableScroll",(function(){t.isMobileIosSafari?t.disableScrollMobileIosSafari():document.body.style.overflow="hidden"})),(0,c.default)((0,a.default)(t),"enableScroll",(function(){t.isMobileIosSafari?t.enableScrollMobileIosSafari():document.body.style.removeProperty("overflow")})),t.state={followIsVisible:!1,scrollPosition:0,showingDesktopNav:!0},t}return(0,n.default)(b,[{key:"componentDidMount",value:function(){var e;document.addEventListener("keyup",this.handleMobileMenuEscape);var t=-1!==navigator.userAgent.indexOf("Safari"),l=-1!==navigator.userAgent.indexOf("iPhone");this.isMobileIosSafari=t&&l,this.desktopBreakpointMql=window.matchMedia("(min-width: ".concat(null!==(e=null===N.default||void 0===N.default?void 0:N.default.desktopNavBreakpoint)&&void 0!==e?e:"960px",")")),"function"==typeof this.desktopBreakpointMql.addEventListener?this.desktopBreakpointMql.addEventListener("change",this.handleDesktopBreakpointMqlChange):this.desktopBreakpointMql.addListener(this.handleDesktopBreakpointMqlChange),this.handleDesktopBreakpointMqlChange({matches:this.desktopBreakpointMql.matches})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleMobileMenuEscape),"function"==typeof this.desktopBreakpointMql.addEventListener?this.desktopBreakpointMql.removeEventListener("change",this.handleDesktopBreakpointMqlChange):this.desktopBreakpointMql.removeListener(this.handleDesktopBreakpointMqlChange)}},{key:"render",value:function(){var e,t,l,s,o,n=this;return(0,k.jsxs)("header",{className:(0,m.classNames)(["page-header",(null===(e=f.default.App)||void 0===e?void 0:e.mobileMenuOpen)&&"page-header--mobile-open"]),children:[(0,k.jsx)("div",{className:"branch-journeys-top"}),(0,k.jsx)("div",{className:"mobile-menu-overlay ".concat(null!==(t=f.default.App)&&void 0!==t&&t.mobileMenuOpen?"active":""),onClick:this.closeMobileMenu}),(0,k.jsxs)("div",{className:"row align-middle",children:[(0,k.jsx)("div",{className:"logoContainer",children:(0,k.jsx)("a",{className:"header-logo",href:S,title:"CARFAX  Logo","aria-label":"CARFAX Logo",children:(0,k.jsx)(u.default,{from:"header"})})}),(0,k.jsx)(_.default,{progressiveDelay:!0,children:(0,k.jsx)(w.default,{menuClass:"dropdown menu navbar",onMobileMenuClose:this.closeMobileMenu})}),(0,k.jsx)("div",{className:"column",children:(0,k.jsxs)("div",{className:"row align-right align-middle",children:[(0,k.jsx)("div",{className:"navbar-follow",children:(0,k.jsx)(y.default,{onClick:this.toggleFollowDropdown,isVisible:this.state.followIsVisible})}),(0,k.jsxs)("div",{className:"navbar-account",children:[(0,k.jsx)("span",{className:null!==(l=f.default.User)&&void 0!==l&&l.authenticated?"show":"hide",children:(0,k.jsx)("button",{id:"header-logout",className:null!==(s=f.default.User)&&void 0!==s&&s.authenticated?"signout show":"hide",onClick:this.handleLogout,children:"Logout"})}),(0,k.jsxs)("span",{className:null!==(o=f.default.User)&&void 0!==o&&o.authenticated?"hide":"show",children:[(0,k.jsx)("button",{id:"header-signin",className:"signin",onClick:this.handleSignIn,children:"Log In"})," ",(0,k.jsx)("span",{className:"nav-divider",children:"|"})," ",(0,k.jsx)("button",{id:"header-signup",className:"signup",onClick:this.handleSignUp,children:"Sign Up"})]})]}),(0,k.jsx)("button",{ref:function(e){n.mobileSiteNavButtonRef=e},className:"menu-icon",name:"SiteNavigation",type:"button",onClick:this.toggleMobileMenu,"aria-label":"Site Navigation","aria-haspopup":"menu","aria-controls":"responsive-menu"})]})})]})]})}}]),b}(x.Component);(0,c.default)(C,"defaultProps",{userStore:{}});var M=(0,b.withCarfaxAuth)((0,j.observer)(C));t.default=M},"./client/components/Common/PrimaryNav/PrimaryNav.tsx":(e,t,l)=>{var s=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(l("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=s(l("./node_modules/@babel/runtime/helpers/createClass.js")),a=s(l("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=s(l("./node_modules/@babel/runtime/helpers/inherits.js")),i=s(l("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=s(l("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=s(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s(l("./client/stores/stores.ts")),m=l("./node_modules/mobx-react/dist/mobxreact.esm.js"),f=l("./node_modules/react/index.js"),p=s(l("./node_modules/react-focus-lock/dist/es2015/index.js")),v=s(l("./config.js")),h=s(l("./client/components/Common/Header/Header.scss"));l("./client/components/Common/PrimaryNav/PrimaryNav.scss");var b=l("./node_modules/react/jsx-runtime.js");var j=v.default.ENV[v.default.currentEnv()].host,x=function(e){(0,r.default)(m,e);var t,l,s=(t=m,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.default)(t);if(l){var o=(0,d.default)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,i.default)(this,e)});function m(){var e;(0,o.default)(this,m);for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return e=s.call.apply(s,[this].concat(l)),(0,c.default)((0,a.default)(e),"state",{showingDesktopNav:!0}),(0,c.default)((0,a.default)(e),"desktopBreakpointMql",void 0),(0,c.default)((0,a.default)(e),"handleDesktopBreakpointMqlChange",(function(t){var l=t.matches;e.setState({showingDesktopNav:l})})),(0,c.default)((0,a.default)(e),"handleLogout",(function(e){var t;e.preventDefault(),null===(t=u.default.User)||void 0===t||t.logout()})),(0,c.default)((0,a.default)(e),"handleSignIn",(function(t){var l,s,o,n,a;t.preventDefault(),null===(l=u.default.Modals)||void 0===l||l.setModal("sign-in"),null===(s=u.default.Optimizely)||void 0===s||s.activatePage("headerSignIn"),null!==u.default&&void 0!==u.default&&null!==(o=u.default.App)&&void 0!==o&&o.mobileMenuOpen&&(null===(n=(a=e.props).onMobileMenuClose)||void 0===n||n.call(a))})),(0,c.default)((0,a.default)(e),"handleSignUp",(function(t){var l,s,o,n;t.preventDefault(),null===(l=u.default.Modals)||void 0===l||l.setModal("sign-up"),null!==(s=u.default.App)&&void 0!==s&&s.mobileMenuOpen&&(null===(o=(n=e.props).onMobileMenuClose)||void 0===o||o.call(n))})),e}return(0,n.default)(m,[{key:"componentDidMount",value:function(){var e;this.desktopBreakpointMql=window.matchMedia("(min-width: ".concat(null!==(e=null===h.default||void 0===h.default?void 0:h.default.desktopNavBreakpoint)&&void 0!==e?e:"960px",")")),"function"==typeof this.desktopBreakpointMql.addEventListener?this.desktopBreakpointMql.addEventListener("change",this.handleDesktopBreakpointMqlChange):this.desktopBreakpointMql.addListener(this.handleDesktopBreakpointMqlChange),this.handleDesktopBreakpointMqlChange({matches:this.desktopBreakpointMql.matches})}},{key:"componentWillUnmount",value:function(){"function"==typeof this.desktopBreakpointMql.addEventListener?this.desktopBreakpointMql.removeEventListener("change",this.handleDesktopBreakpointMqlChange):this.desktopBreakpointMql.removeListener(this.handleDesktopBreakpointMqlChange)}},{key:"render",value:function(){var e,t,l,s,o,n,a,r=this.state.showingDesktopNav,i=this.props,d=i.menuClass,c=i.onMobileMenuClose,m=(null===(e=u.default.App)||void 0===e?void 0:e.mobileMenuOpen)&&!r,f=m?"responsive-menu-open":"";return(0,b.jsx)(p.default,{disabled:r||!m,children:(0,b.jsxs)("div",{id:"responsive-menu",className:"column ".concat(f," responsive__menu"),"aria-hidden":!(r||null!==(t=u.default.App)&&void 0!==t&&t.mobileMenuOpen),"aria-expanded":!r&&(null===(l=u.default.App)||void 0===l?void 0:l.mobileMenuOpen),children:[(0,b.jsx)("div",{className:"header__mobile-close-container hide",children:(0,b.jsx)("button",{className:"mobile-close-container__button",onClick:c,"aria-keyshortcuts":"Escape",children:(0,b.jsx)("img",{src:"https://static.carfax.com/uclassets/images/ic_close-white.svg",alt:"Close Menu"})})}),(0,b.jsx)("div",{className:"row align-middle",children:(0,b.jsxs)("nav",{className:"header__navigation",children:[(0,b.jsx)("div",{className:"navbar-mobile-account",children:(0,b.jsx)("span",{className:"nav-auth-span-container",children:(0,b.jsx)("span",{children:null!==(s=u.default.User)&&void 0!==s&&s.authenticated?(0,b.jsxs)("span",{className:"nav-auth-span--loggedIn",children:[(0,b.jsxs)("div",{className:"account__text__container",children:[(0,b.jsx)("img",{src:"https://static.carfax.com/uclassets/images/account-icon.png",className:"account__icon",alt:"account"}),(0,b.jsx)("span",{className:"account__greeting",children:"Hello,"})," ",(0,b.jsx)("a",{id:"userName",className:"account__username",href:"".concat(j,"account/profile"),children:null===(o=u.default.User)||void 0===o?void 0:o.userName})]}),(0,b.jsx)("button",{id:"primary-nav-logout",className:null!==(n=u.default.User)&&void 0!==n&&n.authenticated?"primary__nav__signout signout show":"hide",onClick:this.handleLogout,children:"Logout"})]}):(0,b.jsxs)("span",{className:"nav-auth-span",children:[(0,b.jsx)("button",{id:"primary-nav-signin",className:"signin",onClick:this.handleSignIn,children:"Log In"}),(0,b.jsx)("span",{className:"nav-divider",children:"  |  "}),(0,b.jsx)("button",{id:"primary-nav-signup",className:"signup",onClick:this.handleSignUp,children:"Sign Up"})]})})})}),(0,b.jsxs)("ul",{className:d,children:[(0,b.jsx)("li",{className:"menu__item",children:(0,b.jsx)("a",{className:"menu__item__link",href:"".concat(j,"cars-for-sale"),children:"Used Cars for Sale"})}),(0,b.jsx)("li",{className:"menu__item vin-dropdown",children:(0,b.jsx)("a",{className:"menu__item__link",href:"".concat(j,"vehicle-history-reports/"),children:"CARFAX Reports"})}),(0,b.jsx)("li",{className:"menu__item",children:(0,b.jsx)("a",{className:"menu__item__link",href:"".concat(j,"Service/?s_id=INT_CARFAX_002"),children:"My Car Maintenance"})}),(0,b.jsx)("li",{className:"menu__item",children:(0,b.jsx)("a",{className:"menu__item__link",href:"".concat(j,"value/"),children:"Used Car Values"})}),(0,b.jsx)("li",{className:"menu__item",children:(0,b.jsx)("a",{className:"menu__item__link",href:"".concat(j,"car-research"),children:"Research"})}),(0,b.jsx)("li",{className:"menu__item",children:(0,b.jsx)("a",{className:"menu__item__link",href:"https://support.carfax.com",children:"Help"})}),(0,b.jsx)("li",{className:"menu__item".concat(null!==(a=u.default.User)&&void 0!==a&&a.authenticated?" show":" hide"),children:(0,b.jsx)("a",{className:"menu__item__link",href:"".concat(j,"account/profile"),children:"Account"})})]})]})})]})})}}]),m}(f.Component),g=(0,m.observer)(x);t.default=g},"./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedEmpty.tsx":(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l("./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedEmpty.scss");var s=l("./node_modules/react/jsx-runtime.js");t.default=function(){return(0,s.jsx)("div",{className:"user-follows-empty",children:(0,s.jsxs)("div",{className:"user-follows-empty-body",children:[(0,s.jsx)("img",{src:"https://static.carfax.com/uclassets/images/follow-vehicle-preview.png",alt:"heart"}),(0,s.jsx)("div",{className:"user-follows-empty-text",children:"Start following a car and get notified when the price drops."})]})})}},"./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedItem.tsx":(e,t,l)=>{var s=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(l("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=s(l("./node_modules/@babel/runtime/helpers/createClass.js")),a=s(l("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=s(l("./node_modules/@babel/runtime/helpers/inherits.js")),i=s(l("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=s(l("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=s(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=l("./node_modules/react/index.js"),m=l("./client/analytics/TrackingHelperApi.ts"),f=s(l("./shared/helpers/PersistentSearchUtility.ts")),p=s(l("./client/components/Common/FollowButton/FollowButton.tsx")),v=s(l("./client/components/Common/Flag/Flag.tsx"));l("./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedItem.scss");var h=l("./node_modules/react/jsx-runtime.js");var b=function(e){(0,r.default)(u,e);var t,l,s=(t=u,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.default)(t);if(l){var o=(0,d.default)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,i.default)(this,e)});function u(e){var t;return(0,o.default)(this,u),t=s.call(this,e),(0,c.default)((0,a.default)(t),"removeFollow",(function(){t.setState({remove:!0})})),(0,c.default)((0,a.default)(t),"goToVdp",(function(e){e.preventDefault(),(0,m.trackClick)("event65"),f.default.clear(),window.location.href="/vehicle/".concat(t.props.listing.vin)})),t.state={selected:!1,remove:!1},t}return(0,n.default)(u,[{key:"render",value:function(){var e=this.props.listing,t=this.state.remove?"remove-follow":"",l=e.backfill?"Request Quote":"Call for Price",s=0===e.price.current_price.value?l:e.price.current_price.label,o=0===e.mileage.value?"N/A":e.mileage.label,n=!1!==e.dealer.showPriceHistory,a=this.props.listing.currentPrice<5e3?"":"".concat(this.props.listing.payment.label,"/mo est.");return(0,h.jsxs)("button",{id:"userFollowItem_".concat(this.props.index),className:"user-follow-item ".concat(t),children:[(0,h.jsxs)("div",{onClick:this.goToVdp,className:"user-follow-item-photo",children:[(0,h.jsx)(v.default,{type:"user-follow-item-flag absolute",flag:e.listingStatus,legal:n}),(0,h.jsx)("img",{src:e.images.firstPhoto?e.images.firstPhoto.small:"https://static.carfax.com/uclassets/images/thumb-noimage.png",alt:""})]}),(0,h.jsxs)("div",{onClick:this.goToVdp,className:"user-follow-item-details column",children:[(0,h.jsx)("span",{className:"user-follow-item-price",children:s}),(0,h.jsx)("span",{className:0===e.price.current_price.value?"hide":"user-follow-item-payment",children:a}),(0,h.jsx)("span",{className:"user-follow-item-title",children:e.title}),(0,h.jsxs)("span",{className:"user-follow-item-mileage",children:[o," miles"]})]}),(0,h.jsx)("div",{className:"user-follow-actions",children:(0,h.jsx)(p.default,{removeFollow:this.removeFollow,source:"portfolio",offImage:!0,listing:e})})]})}}]),u}(u.Component);t.default=b},"./client/components/Common/UserFollowedSavedNav/Saved/UserSavedEmpty.tsx":(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l("./client/components/Common/UserFollowedSavedNav/Saved/UserSavedEmpty.scss");var s=l("./node_modules/react/jsx-runtime.js");t.default=function(){return(0,s.jsx)("div",{className:"user-saved-search-empty",children:(0,s.jsxs)("div",{className:"user-saved-search-empty-body",children:[(0,s.jsx)("img",{src:"https://static.carfax.com/uclassets/images/save-search-preview.png",alt:"save search preview"}),(0,s.jsx)("div",{className:"user-saved-search-empty-text",children:"While you're browsing search results, tap the button the save your search."}),(0,s.jsx)("img",{src:"https://static.carfax.com/uclassets/images/save-search-alert.png",alt:"notification bell",className:"save__search__notification"}),(0,s.jsx)("div",{className:"user-saved-search-empty-text",children:"Get notified when more cars that match your criteria become available."})]})})}},"./client/components/Common/UserFollowedSavedNav/Saved/UserSavedItem.tsx":(e,t,l)=>{var s=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(l("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=s(l("./node_modules/@babel/runtime/helpers/createClass.js")),a=s(l("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=s(l("./node_modules/@babel/runtime/helpers/inherits.js")),i=s(l("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=s(l("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=s(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=s(l("./client/stores/stores.ts")),m=l("./node_modules/react/index.js"),f=l("./node_modules/mobx-react/dist/mobxreact.esm.js"),p=s(l("./node_modules/numeral/numeral.js")),v=s(l("./node_modules/lodash/lodash.js")),h=l("./client/analytics/TrackingHelperApi.ts");l("./client/components/Common/UserFollowedSavedNav/Saved/UserSavedItem.scss");var b=l("./node_modules/react/jsx-runtime.js");var j=function(e){(0,r.default)(m,e);var t,l,s=(t=m,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.default)(t);if(l){var o=(0,d.default)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,i.default)(this,e)});function m(){var e;(0,o.default)(this,m);for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return e=s.call.apply(s,[this].concat(l)),(0,c.default)((0,a.default)(e),"deleteSearch",(function(e,t,l){var s;l.preventDefault(),null===(s=u.default.User)||void 0===s||s.deleteSavedSearch(e,t)})),(0,c.default)((0,a.default)(e),"goToSRP",(function(t,l){var s,o;t.preventDefault(),(0,h.trackClick)("event64"),e.props.hideDropDown(),null===(s=u.default.SearchRequest)||void 0===s||s.setEventType("save-search-click"),null===(o=u.default.SearchRequest)||void 0===o||o.getListings(l)})),e}return(0,n.default)(m,[{key:"render",value:function(){var e=this,t=this.props.search,l=t.bodyType?"".concat(t.bodyType," "):"",s=t.facets?v.default.keyBy(t.facets,"name"):{},o=s.priceMax&&s.priceMax.value>0?"Under ".concat((0,p.default)(s.priceMax.value).format("$0,0")):"",n=t.make?t.make.replace(/\+/g," "):l+o;t.title&&t.title.length>1&&(n=t.title.replace(/\+/g," "));var a=JSON.parse(JSON.stringify(t));delete a.index,delete a.id,delete a.consumerId,delete a.lastChangedDate,delete a.srpUrl,delete a.userUpdated,delete a.save,delete a.title,a.bodyType||delete a.bodyType;var r=new Date(t.lastChangedDate),i="".concat(r.getMonth()+1,"/").concat(r.getDate(),"/").concat(r.getFullYear());return(0,b.jsxs)("button",{className:"user-saved-search-item",onClick:function(t){return e.goToSRP(t,a)},children:[(0,b.jsx)("div",{className:"user-saved-search-item-header",children:(0,b.jsx)("div",{className:"user-saved-search-item-title",children:n})}),(0,b.jsx)("div",{className:"user-saved-search-item-body",children:(0,b.jsxs)("div",{className:"user-saved-search-item-details-stats",children:["near ZIP Code ",t.zip," ",(0,b.jsx)("span",{className:"user__saved__search__details__seperator",children:"•"})," updated"," ",i]})})]})}}]),m}(m.Component);(0,c.default)(j,"defaultProps",{search:{priceRange:{max:0,min:0},yearRange:{max:0,min:0},mileageRange:{max:0,min:0}}});var x=(0,f.observer)(j);t.default=x},"./client/components/Common/UserFollowedSavedNav/UserFollowSavedNavBtn.tsx":(e,t,l)=>{var s=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(l("./node_modules/@babel/runtime/helpers/slicedToArray.js")),n=s(l("./client/hooks/useAnimationFrame.ts")),a=s(l("./client/stores/stores.ts")),r=l("./client/utils/utils.ts"),i=s(l("./client/utils/utilities.ts")),d=l("./node_modules/mobx-react/dist/mobxreact.esm.js"),c=l("./node_modules/react/index.js"),u=s(l("./client/components/Common/UserFollowedSavedNav/UserFollowedSaved/UserFollowedSaved.tsx"));l("./client/components/Common/UserFollowedSavedNav/UserFollowSavedNavBtn.scss");var m=l("./node_modules/react/jsx-runtime.js"),f=(0,d.observer)((function(e){var t=e.isVisible,l=void 0!==t&&t,s=e.onClick,d=(0,c.useState)(null),f=(0,o.default)(d,2),p=f[0],v=f[1],h=(0,c.useRef)(null),b=(0,n.default)(),j=b.requestAnimationFrame,x=b.cancelAnimationFrame;(0,c.useEffect)((function(){return j(g),function(){document.body.style.overflow="auto"}}),[]),(0,c.useEffect)((function(){var e;null!==(e=a.default.App)&&void 0!==e&&e.isMobile&&(document.body.style.overflow=l?"hidden":"auto")}),[l]);var g=function e(){if(x(),h.current){var t=h.current.getBoundingClientRect().bottom+12;t!==p&&v(t)}j(e)},_=function(e,t){i.default.prevent(e),s(null!=t?t:!l)},w=function(){var e,t=document.body.style.overflow;null!==(e=a.default.App)&&void 0!==e&&e.isMobile||(document.body.style.overflow="hidden"===t?"auto":"hidden")};return(0,m.jsxs)("div",{className:"user-fs-container",children:[(0,m.jsxs)("button",{className:"navbar-follow-btn",type:"button",onClick:function(e){return _(e)},title:"Followed Cars and Saved Searches","aria-label":"Followed Cars and Saved Searches",ref:h,children:[(0,m.jsx)("i",{className:"fa fa-heart heart1"}),(0,m.jsx)("i",{className:"fa fa-heart heart2"}),(0,m.jsx)("i",{className:"fa fa-heart-empty heart3"}),(0,m.jsx)("span",{className:"navbar-follow-total",children:a.default.User?a.default.User.totalFollowedAndSaved:0})]}),l&&(0,m.jsx)("div",{className:"user-fs-dropdown-close-overlay",onClick:function(e){_(e,!1)}}),(0,m.jsx)("div",{onMouseEnter:w,onMouseLeave:w,id:"user-fs-dropdown",className:(0,r.classNames)(["dropdown-pane","user-dropdown",l&&"is-open"]),style:{"--fixed-pos-top":p?"".concat(p,"px"):void 0},children:(0,m.jsx)("div",{children:(0,m.jsx)(u.default,{hideDropDown:_})})})]})}));t.default=f},"./client/components/Common/UserFollowedSavedNav/UserFollowedSaved/UserFollowedSaved.tsx":(e,t,l)=>{var s=l("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(l("./node_modules/@babel/runtime/helpers/classCallCheck.js")),n=s(l("./node_modules/@babel/runtime/helpers/createClass.js")),a=s(l("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),r=s(l("./node_modules/@babel/runtime/helpers/inherits.js")),i=s(l("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),d=s(l("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),c=s(l("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=l("./client/utils/utils.ts"),m=l("./node_modules/mobx-react/dist/mobxreact.esm.js"),f=l("./node_modules/react/index.js"),p=s(l("./config.js")),v=s(l("./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedEmpty.tsx")),h=s(l("./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedItem.tsx")),b=s(l("./client/components/Common/UserFollowedSavedNav/Saved/UserSavedEmpty.tsx")),j=s(l("./client/components/Common/UserFollowedSavedNav/Saved/UserSavedItem.tsx"));l("./client/components/Common/UserFollowedSavedNav/UserFollowedSaved/UserFollowedSaved.scss");var x=s(l("./client/stores/stores.ts")),g=l("./node_modules/react/jsx-runtime.js");var _=function(e){(0,r.default)(m,e);var t,l,s=(t=m,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.default)(t);if(l){var o=(0,d.default)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,i.default)(this,e)});function m(){var e;(0,o.default)(this,m);for(var t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return e=s.call.apply(s,[this].concat(l)),(0,c.default)((0,a.default)(e),"handleChangeTab",(function(e,t){var l;e.preventDefault(),null===(l=x.default.User)||void 0===l||l.changeTab(t)})),e}return(0,n.default)(m,[{key:"renderFollowItems",value:function(){var e,t,l,s;return null!==(e=x.default.User)&&void 0!==e&&e.follows&&0!==(null===(t=x.default.User)||void 0===t?void 0:t.follows.length)?null===(l=x.default.User)||void 0===l||null===(s=l.lastTenFollows)||void 0===s?void 0:s.map((function(e,t){return(0,g.jsx)(h.default,{index:t,listing:e},"cfx-followed-".concat(e.id))})):(0,g.jsx)(v.default,{})}},{key:"renderSearchItems",value:function(){var e,t,l,s,o=this;return 0===(null===(e=x.default.User)||void 0===e||null===(t=e.lastTenSearches)||void 0===t?void 0:t.length)?(0,g.jsx)(b.default,{}):null===(l=x.default.User)||void 0===l||null===(s=l.lastTenSearches)||void 0===s?void 0:s.map((function(e){return(0,g.jsx)(j.default,{search:e,hideDropDown:o.props.hideDropDown},"cfx-saved-".concat(e.id))}))}},{key:"render",value:function(){var e,t,l,s,o,n,a,r,i,d,c,m,f,v,h,b,j,_=this,w=p.default.ENV[p.default.currentEnv()].host,y=null!==(e=x.default.User)&&void 0!==e&&e.follows?null===(t=x.default.User)||void 0===t?void 0:t.follows.length:0;return(0,g.jsxs)("div",{className:"user-fs-panel",children:[(0,g.jsx)("div",{className:"user-dropdown-body",children:(0,g.jsxs)("ul",{id:"user-fs-tabs",className:"tabs user-fs-tabs",style:{listStyle:"none"},children:[(0,g.jsx)("li",{className:"tabs-title user-fs-title follows__tab ".concat("follows"===(null===(l=x.default.User)||void 0===l?void 0:l.tab)?"is-active":""),children:(0,g.jsx)("a",{href:"#followsPanel",className:"follows__tab__link","aria-selected":"follows"===(null===(s=x.default.User)||void 0===s?void 0:s.tab),onClick:function(e){return _.handleChangeTab(e,"follows")},children:"Followed Cars (".concat(y,")")})}),(0,g.jsx)("li",{className:"tabs-title user-fs-title searches__tab",children:(0,g.jsx)("a",{href:"#savedPanel",className:"searches__tab__link","aria-selected":"searches"===(null===(o=x.default.User)||void 0===o?void 0:o.tab),onClick:function(e){return _.handleChangeTab(e,"searches")},children:"Saved Searches (".concat((null===(n=x.default.User)||void 0===n?void 0:n.searches.length)||0,")")})})]})}),(0,g.jsx)("div",{className:"user-fs-tabs-content",children:"follows"===(null===(a=x.default.User)||void 0===a?void 0:a.tab)?(0,g.jsx)("div",{id:"followsPanel",className:"user-fs-tabs-panel is-active",children:(0,g.jsx)("div",{className:"user-dropdown-body",children:(0,g.jsxs)("div",{className:(0,u.classNames)(["user-dropdown-body-scroll",(null===(r=x.default.User)||void 0===r||null===(i=r.follows)||void 0===i?void 0:i.length)>5&&"fix-height"]),children:[this.renderFollowItems(),(null===(d=x.default.User)||void 0===d||null===(c=d.follows)||void 0===c?void 0:c.length)>10&&(0,g.jsx)("div",{className:"user-fs-account-link-container",children:(0,g.jsx)("a",{className:"user-fs-account-link",href:"".concat(w,"account/followed-cars"),children:"More Followed Cars"})})]})})}):(0,g.jsx)("div",{id:"savedPanel",className:"user-fs-tabs-panel",children:(0,g.jsx)("div",{className:"user-dropdown-body",children:(0,g.jsxs)("div",{className:(0,u.classNames)(["user-dropdown-body-scroll",(null!==(m=null===(f=x.default.User)||void 0===f||null===(v=f.searches)||void 0===v?void 0:v.length)&&void 0!==m?m:0)>5&&"fix-height"]),children:[this.renderSearchItems(),(null!==(h=null===(b=x.default.User)||void 0===b||null===(j=b.searches)||void 0===j?void 0:j.length)&&void 0!==h?h:0)>10&&(0,g.jsx)("div",{className:"user-fs-account-link-container",children:(0,g.jsx)("a",{className:"user-fs-account-link",href:"".concat(w,"account/searches"),children:"More Saved & Suggested Searches"})})]})})})})]})}}]),m}(f.Component),w=(0,m.observer)(_);t.default=w},"./client/hooks/useAnimationFrame.ts":(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=l("./node_modules/react/index.js");t.default=function(){var e=(0,s.useRef)(-1);return(0,s.useEffect)((function(){return function(){window.cancelAnimationFrame(e.current)}}),[]),{requestAnimationFrame:function(t){return function(t){e.current=window.requestAnimationFrame(t)}(t)},cancelAnimationFrame:function(){return window.cancelAnimationFrame(e.current),void(e.current=-1)},animationRequestIdRef:e}}},"./client/components/Common/Header/Header.scss":(e,t,l)=>{l.r(t)},"./client/components/Common/PrimaryNav/PrimaryNav.scss":(e,t,l)=>{l.r(t)},"./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedEmpty.scss":(e,t,l)=>{l.r(t)},"./client/components/Common/UserFollowedSavedNav/Followed/UserFollowedItem.scss":(e,t,l)=>{l.r(t)},"./client/components/Common/UserFollowedSavedNav/Saved/UserSavedEmpty.scss":(e,t,l)=>{l.r(t)},"./client/components/Common/UserFollowedSavedNav/Saved/UserSavedItem.scss":(e,t,l)=>{l.r(t)},"./client/components/Common/UserFollowedSavedNav/UserFollowSavedNavBtn.scss":(e,t,l)=>{l.r(t)},"./client/components/Common/UserFollowedSavedNav/UserFollowedSaved/UserFollowedSaved.scss":(e,t,l)=>{l.r(t)}}]);